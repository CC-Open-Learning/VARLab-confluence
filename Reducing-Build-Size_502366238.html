<!DOCTYPE html>
<html>
    <head>
        <title>VARLab : Reducing Build Size</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">VARLab</a></span>
                            </li>
                                                    <li>
                                <span><a href="How-To-Articles_581435426.html">How-To Articles</a></span>
                            </li>
                                                    <li>
                                <span><a href="Unity-Development_688324665.html">Unity Development</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            VARLab : Reducing Build Size
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                            
        
    
        
    
        
        
            Created by <span class='author'> Jordan Robinson</span>, last modified on Jul 22, 2022
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>As many of our sims are being deployed in WebGL, we want to make sure the build size is as small as possible in order to reduce load times and memory usage within the web browser.</p><p>Here are a few tips to reducing the total size of your builds as well as the size of the asset packages your builds may use.</p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>This article assumes your build is made using the <a href="https://varlab-dev.atlassian.net/wiki/spaces/CE/pages/31260692/CORE+Engine+Build+Process#Using-the-CORE-Builder" rel="nofollow">CORE Builder</a> when set to use <a href="https://varlab-dev.atlassian.net/wiki/spaces/CV2/pages/158629922/Using+Unity+Cloud+Content+Delivery" data-linked-resource-id="158629922" data-linked-resource-version="10" data-linked-resource-type="page">Cloud Content Delivery</a>.</p></div></div><h2 id="ReducingBuildSize-BuildLogs">Build Logs</h2><p>Every build you make in Unity will include an <strong>Editor Log</strong> that you can access through the <a class="external-link" href="https://docs.unity3d.com/Manual/Console.html" rel="nofollow">Console Window</a>.</p><p>To view this log, find the three stacked dots (also known as a <a class="external-link" href="https://i.stack.imgur.com/m2HgJ.png" rel="nofollow">Kebab Button</a>) and click <strong>Open Editor Log</strong>.</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/502366238/502333465.png" data-image-src="attachments/502366238/502333465.png" data-height="89" data-width="612" data-unresolved-comment-count="0" data-linked-resource-id="502333465" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20220722-193053.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="502366238" data-linked-resource-container-version="2" data-media-id="82bc1502-c6d0-4128-ac4c-43423f2c6bf0" data-media-type="file"></span><p>In the editor log, scroll down until you find the section for assets or search for <strong>Build Report</strong>.</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/502366238/502497335.png" data-image-src="attachments/502366238/502497335.png" data-height="898" data-width="1315" data-unresolved-comment-count="0" data-linked-resource-id="502497335" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20220722-194723.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="502366238" data-linked-resource-container-version="2" data-media-id="479c0116-163d-481a-b8e0-b8b2b88e024d" data-media-type="file"></span><p>Here we can see the exact breakdown of what ended up in our build and where it’s located in the <a class="external-link" href="https://docs.unity3d.com/Manual/ProjectView.html" rel="nofollow">Project Window</a>. In this case we can see a number of assets that should be packaged with an asset bundle and not be shipped with the build itself.</p><p>Now we need to find out why these assets are included in our build and come up with a fix.</p><h2 id="ReducingBuildSize-TheResourcesFolder">The Resources Folder</h2><p>The first smoking gun is that a number of these assets show “…/Resources/…” in their file name. The <a class="external-link" href="https://docs.unity3d.com/Manual/BestPracticeUnderstandingPerformanceInUnity6.html" rel="nofollow">Resources Folder</a> in Unity is a magic folder that automatically packs all of its contents into one big asset bundle.</p><h3 id="ReducingBuildSize-WhatistheResourcesFolder">What is the Resources Folder</h3><p>Just like how our DLS assets get packed into <a class="external-link" href="https://docs.unity3d.com/Manual/AssetBundlesIntro.html" rel="nofollow">asset bundles</a> using the <a href="https://varlab-dev.atlassian.net/wiki/spaces/CV2/pages/158629987/Addressable+Assets" data-linked-resource-id="158629987" data-linked-resource-version="5" data-linked-resource-type="page">Addressable Assets</a> system which lets us load assets at runtime using whatever address we set for them, the resources folder creates an asset bundle where the address is the relative file path after “…/Resources/.”</p><p>Since this folder is used to load assets at runtime through our code, Unity has no idea whether or not something in this folder is actually going to be used. As a result it just packs everything in a resources folder into the build just in case you happen to need it.</p><p>The resources folder also allows assets to be loaded at any time while the game is running. Because of this Unity automatically loads the entire resources folder’s asset bundle into memory and keeps it there while the game is running.</p><p>What this means is, anything that gets placed in the resources folder, <strong>whether it gets used or not</strong>, is always included in the build and always loaded into memory while the game is running.</p><h3 id="ReducingBuildSize-TheFix">The Fix</h3><p>In order to move these assets out of the resources folder we need to make for sure that they’re not actually being used at runtime via <a class="external-link" href="https://docs.unity3d.com/ScriptReference/Resources.Load.html" rel="nofollow">Resources.Load</a>.</p><p>To do this we need to open up Visual Studio and do a <strong>Find All </strong>for <strong>Resources.Load</strong> and do some detective work.</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/502366238/502530063.png" data-image-src="attachments/502366238/502530063.png" data-height="650" data-width="1533" data-unresolved-comment-count="0" data-linked-resource-id="502530063" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20220722-194954.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="502366238" data-linked-resource-container-version="2" data-media-id="09dc87f5-7db7-474e-b91e-acd157e2527b" data-media-type="file"></span><p>We can see a number of times Resources.Load is used but after checking it appears that none of them are calling for any of the assets from our earlier build log.</p><p>Now that we know those assets aren’t being used by the resources system, we can safely move them from the resources folder into another folder within the project.</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/502366238/502530069.png" data-image-src="attachments/502366238/502530069.png" data-height="126" data-width="430" data-unresolved-comment-count="0" data-linked-resource-id="502530069" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20220722-195123.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="502366238" data-linked-resource-container-version="2" data-media-id="a725eae0-101c-4d0b-a020-d87820ba66b2" data-media-type="file"></span><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/502366238/502497343.png" data-image-src="attachments/502366238/502497343.png" data-height="121" data-width="246" data-unresolved-comment-count="0" data-linked-resource-id="502497343" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20220722-195143.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="502366238" data-linked-resource-container-version="2" data-media-id="cd7427a6-1e36-4c37-a376-b9042c324947" data-media-type="file"></span><p>When we run the build again and check the build log, we can see the fire safety materials and models are no longer included in our build (in some cases you may need to restart Unity first).</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/502366238/502530075.png" data-image-src="attachments/502366238/502530075.png" data-height="917" data-width="1060" data-unresolved-comment-count="0" data-linked-resource-id="502530075" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20220722-195527.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="502366238" data-linked-resource-container-version="2" data-media-id="0067faec-1cf4-48ad-953b-3e9168aa36ab" data-media-type="file"></span><h2 id="ReducingBuildSize-IncludedScenes">Included Scenes</h2><p>The next thing to check are the scenes included in the build. If a scene is included, all the assets required for that scene to run are also included.</p><p>To view the scenes included in the build, go to <strong>File &gt; Build Settings</strong> in Unity.</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/502366238/502530081.png" data-image-src="attachments/502366238/502530081.png" data-height="127" data-width="647" data-unresolved-comment-count="0" data-linked-resource-id="502530081" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20220722-195658.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="502366238" data-linked-resource-container-version="2" data-media-id="35c88980-bfc2-4904-8fda-5ea769f82ed1" data-media-type="file"></span><p>In our build log from the last section we can see a lot of materials for the Hydraulics simulation being included even though that should only be in an asset bundle.</p><p>If we look at our current scenes and check each one we find that the Playback scene includes the workstations and lab from the Hydraulics simulation.</p><p>By removing this scene or unchecking it, it will no longer be included in the build and neither will the included assets within it.</p><p>Note that if you’re using the original core engine project, you will need to modify the Assets/Editor/Builds/Constants.cs file to remove the filepath of the offending scene from your build.</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/502366238/502530087.png" data-image-src="attachments/502366238/502530087.png" data-height="339" data-width="785" data-unresolved-comment-count="0" data-linked-resource-id="502530087" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20220722-200039.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="502366238" data-linked-resource-container-version="2" data-media-id="1b364aab-ce7f-4149-8ee0-7cd7d89cbc56" data-media-type="file"></span><p>With this scene removed, our build is now even smaller.</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/502366238/502431770.png" data-image-src="attachments/502366238/502431770.png" data-height="459" data-width="889" data-unresolved-comment-count="0" data-linked-resource-id="502431770" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20220722-200551.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="502366238" data-linked-resource-container-version="2" data-media-id="a464f134-e847-4239-af4a-cccc54f0b76c" data-media-type="file"></span><h2 id="ReducingBuildSize-DependenciestoResources">Dependencies to Resources</h2><p>This is where things get tougher. Assets that are a dependency to an item left in the Resources folder can be very difficult to find.</p><p>Using tools like the <a class="external-link" href="https://assetstore.unity.com/packages/tools/utilities/asset-usage-detector-112837" rel="nofollow">Asset Usage Detector</a> can help a lot to pinpoint which prefab or scene is using that asset.</p><p>In this case, the remaining asset dependencies are held in a lot of the UI prefabs within the Resources folder.</p><p>Following the steps from before we can carefully move these prefabs out of the resources folder after verifying they’re not called anywhere from our scripts.</p><h2 id="ReducingBuildSize-ReducingAssetSize">Reducing Asset Size</h2><p>Here are some tricks to reduce the total size of the assets within the sims.</p><h3 id="ReducingBuildSize-EnableCompressionforNon-PowerofTwoResolutionTextures">Enable Compression for Non-Power of Two Resolution Textures</h3><p>For many UI elements, Unity will not enable compression on them by default.</p><p>For <strong>Assets/Materials/Images/bgspiraltrace.png </strong>we can see that this is the case.</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/502366238/502530095.png" data-image-src="attachments/502366238/502530095.png" data-height="359" data-width="603" data-unresolved-comment-count="0" data-linked-resource-id="502530095" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20220722-201122.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="502366238" data-linked-resource-container-version="2" data-media-id="23cd5b05-f8ed-40f5-b55a-214588b317ae" data-media-type="file"></span><p /><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/502366238/502366288.png" data-image-src="attachments/502366238/502366288.png" data-height="651" data-width="602" data-unresolved-comment-count="0" data-linked-resource-id="502366288" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20220722-201021.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="502366238" data-linked-resource-container-version="2" data-media-id="2a3dbef7-a33e-4ce0-9a06-5b59a76dc45b" data-media-type="file"></span><p>By setting the compression to <strong>Normal </strong>we immediately get a reduction of over 5MB.</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/502366238/502497360.png" data-image-src="attachments/502366238/502497360.png" data-height="67" data-width="384" data-unresolved-comment-count="0" data-linked-resource-id="502497360" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20220722-201206.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="502366238" data-linked-resource-container-version="2" data-media-id="70d0537a-9d6d-482a-a175-c323426d53e9" data-media-type="file"></span><h3 id="ReducingBuildSize-EnableCrunchCompression">Enable Crunch Compression</h3><p>If we take the example image from before and enable crunch compression, we see a massive reduction in file size.</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/502366238/502399012.png" data-image-src="attachments/502366238/502399012.png" data-height="719" data-width="596" data-unresolved-comment-count="0" data-linked-resource-id="502399012" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20220722-201341.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="502366238" data-linked-resource-container-version="2" data-media-id="176f4f7b-8f78-458f-a09d-7decf070bc43" data-media-type="file"></span><p>The default setting is being used, you can tweak this value to get a good balance of compression and visual quality.</p><p>Virtually every texture in a DLS that has a realistic art style should be using crunch compression.</p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/502366238/502333465.png">image-20220722-193053.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/502366238/502497335.png">image-20220722-194723.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/502366238/502530063.png">image-20220722-194954.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/502366238/502530069.png">image-20220722-195123.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/502366238/502497343.png">image-20220722-195143.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/502366238/502530075.png">image-20220722-195527.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/502366238/502530081.png">image-20220722-195658.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/502366238/502530087.png">image-20220722-200039.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/502366238/502431770.png">image-20220722-200551.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/502366238/502366288.png">image-20220722-201021.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/502366238/502530095.png">image-20220722-201122.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/502366238/502497360.png">image-20220722-201206.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/502366238/502399012.png">image-20220722-201341.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Jul 04, 2025 14:52</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
